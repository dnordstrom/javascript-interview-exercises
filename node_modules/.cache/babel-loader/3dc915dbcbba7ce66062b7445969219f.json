{"ast":null,"code":"import _slicedToArray from \"/home/dnordstrom/Code/javascript-interview-exercises/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/dnordstrom/Code/javascript-interview-exercises/src/components/CompanyList.js\";\nimport React, { useState } from 'react';\nimport { connect } from \"react-redux\";\nimport CompanyListItem from './CompanyListItem';\nimport Filter from './Filter';\nimport actions from '../actions';\nimport Notifier from '../util/Notifier';\n\nconst mapStateToProps = state => ({\n  companies: state.companies,\n  filters: state.filters\n});\n\nconst mapDispatchToProps = {\n  toggleFilter: actions.toggleFilter\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(function CompanyList(props) {\n  const companies = props.companies,\n        filters = props.filters,\n        toggleFilter = props.toggleFilter;\n\n  const _useState = useState({\n    filters: []\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        state = _useState2[0],\n        setState = _useState2[1];\n\n  const locations = [...new Set(companies.map(company => company.location))]; // Returns companies that should be visible according to active filter\n\n  const getFilteredCompanies = () => {\n    let filteredCompanies;\n\n    if (state.filters.length) {\n      filteredCompanies = companies.filter(company => state.filters.includes(company.location));\n    } else {\n      filteredCompanies = companies;\n    }\n\n    return filteredCompanies;\n  }; // Filter click handler\n\n\n  const onFilterClick = event => {\n    event.preventDefault();\n    toggleFilter(event.target.innerText);\n  }; // Company item click handler\n\n\n  const onItemClick = company => {\n    Notifier.notify(\"\".concat(company.name, \" is located in \").concat(company.location));\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, locations.map(location => React.createElement(Filter, {\n    key: location,\n    location: location,\n    onClick: onFilterClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  })), React.createElement(\"ul\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, getFilteredCompanies().map(company => React.createElement(CompanyListItem, Object.assign({\n    key: company.id,\n    onClick: onItemClick.bind(null, company)\n  }, company, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  })))));\n});","map":{"version":3,"sources":["/home/dnordstrom/Code/javascript-interview-exercises/src/components/CompanyList.js"],"names":["React","useState","connect","CompanyListItem","Filter","actions","Notifier","mapStateToProps","state","companies","filters","mapDispatchToProps","toggleFilter","CompanyList","props","setState","locations","Set","map","company","location","getFilteredCompanies","filteredCompanies","length","filter","includes","onFilterClick","event","preventDefault","target","innerText","onItemClick","notify","name","id","bind"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,OAAP,MAAoB,YAApB;AACA,OAAOC,QAAP,MAAqB,kBAArB;;AAEA,MAAMC,eAAe,GAAGC,KAAK,KAAK;AAChCC,EAAAA,SAAS,EAAED,KAAK,CAACC,SADe;AAEhCC,EAAAA,OAAO,EAAEF,KAAK,CAACE;AAFiB,CAAL,CAA7B;;AAKA,MAAMC,kBAAkB,GAAG;AACzBC,EAAAA,YAAY,EAAEP,OAAO,CAACO;AADG,CAA3B;AAIA,eAAeV,OAAO,CACpBK,eADoB,EAEpBI,kBAFoB,CAAP,CAGb,SAASE,WAAT,CAAqBC,KAArB,EAA4B;AAAA,QACpBL,SADoB,GACiBK,KADjB,CACpBL,SADoB;AAAA,QACTC,OADS,GACiBI,KADjB,CACTJ,OADS;AAAA,QACAE,YADA,GACiBE,KADjB,CACAF,YADA;;AAAA,oBAEFX,QAAQ,CAAC;AAAES,IAAAA,OAAO,EAAE;AAAX,GAAD,CAFN;AAAA;AAAA,QAErBF,KAFqB;AAAA,QAEdO,QAFc;;AAG5B,QAAMC,SAAS,GAAG,CAAC,GAAG,IAAIC,GAAJ,CAAQR,SAAS,CAACS,GAAV,CAAcC,OAAO,IAAIA,OAAO,CAACC,QAAjC,CAAR,CAAJ,CAAlB,CAH4B,CAK5B;;AACA,QAAMC,oBAAoB,GAAG,MAAM;AACjC,QAAIC,iBAAJ;;AAEA,QAAId,KAAK,CAACE,OAAN,CAAca,MAAlB,EAA0B;AACxBD,MAAAA,iBAAiB,GAAGb,SAAS,CAACe,MAAV,CAClBL,OAAO,IAAIX,KAAK,CAACE,OAAN,CAAce,QAAd,CAAuBN,OAAO,CAACC,QAA/B,CADO,CAApB;AAGD,KAJD,MAIO;AACLE,MAAAA,iBAAiB,GAAGb,SAApB;AACD;;AAED,WAAOa,iBAAP;AACD,GAZD,CAN4B,CAoB5B;;;AACA,QAAMI,aAAa,GAAIC,KAAD,IAAW;AAC/BA,IAAAA,KAAK,CAACC,cAAN;AACAhB,IAAAA,YAAY,CAACe,KAAK,CAACE,MAAN,CAAaC,SAAd,CAAZ;AACD,GAHD,CArB4B,CA0B5B;;;AACA,QAAMC,WAAW,GAAIZ,OAAD,IAAa;AAC/Bb,IAAAA,QAAQ,CAAC0B,MAAT,WAAmBb,OAAO,CAACc,IAA3B,4BAAiDd,OAAO,CAACC,QAAzD;AACD,GAFD;;AAIA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGJ,SAAS,CAACE,GAAV,CAAcE,QAAQ,IACrB,oBAAC,MAAD;AACE,IAAA,GAAG,EAAEA,QADP;AAEE,IAAA,QAAQ,EAAEA,QAFZ;AAGE,IAAA,OAAO,EAAEM,aAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,CADH,EASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGL,oBAAoB,GAAGH,GAAvB,CAA2BC,OAAO,IACjC,oBAAC,eAAD;AACE,IAAA,GAAG,EAAEA,OAAO,CAACe,EADf;AAEE,IAAA,OAAO,EAAEH,WAAW,CAACI,IAAZ,CAAiB,IAAjB,EAAuBhB,OAAvB;AAFX,KAGMA,OAHN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADD,CADH,CATF,CADF;AAqBD,CAvDc,CAAf","sourcesContent":["import React, { useState } from 'react';\nimport { connect } from \"react-redux\";\nimport CompanyListItem from './CompanyListItem';\nimport Filter from './Filter';\nimport actions from '../actions';\nimport Notifier from '../util/Notifier';\n\nconst mapStateToProps = state => ({\n  companies: state.companies,\n  filters: state.filters\n});\n\nconst mapDispatchToProps = {\n  toggleFilter: actions.toggleFilter\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(function CompanyList(props) {\n  const { companies, filters, toggleFilter } = props;\n  const [state, setState] = useState({ filters: [] });\n  const locations = [...new Set(companies.map(company => company.location))];\n  \n  // Returns companies that should be visible according to active filter\n  const getFilteredCompanies = () => {\n    let filteredCompanies;\n\n    if (state.filters.length) {\n      filteredCompanies = companies.filter(\n        company => state.filters.includes(company.location)\n      )\n    } else {\n      filteredCompanies = companies;\n    }\n\n    return filteredCompanies;\n  }\n\n  // Filter click handler\n  const onFilterClick = (event) => {\n    event.preventDefault();\n    toggleFilter(event.target.innerText);\n  }\n\n  // Company item click handler\n  const onItemClick = (company) => {\n    Notifier.notify(`${company.name} is located in ${company.location}`);\n  };\n\n  return (\n    <div>\n      {locations.map(location => (\n        <Filter\n          key={location}\n          location={location}\n          onClick={onFilterClick}>\n        </Filter>\n      ))}\n\n      <ul>\n        {getFilteredCompanies().map(company => (\n          <CompanyListItem\n            key={company.id}\n            onClick={onItemClick.bind(null, company)}\n            {...company}>\n          </CompanyListItem>\n        ))}\n      </ul>\n    </div>\n  )\n});"]},"metadata":{},"sourceType":"module"}