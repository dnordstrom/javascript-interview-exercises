{"ast":null,"code":"import _slicedToArray from \"/home/dnordstrom/Code/javascript-interview-exercises/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/dnordstrom/Code/javascript-interview-exercises/src/components/CompanyList.js\";\nimport React, { useState } from 'react';\nimport { connect } from \"react-redux\";\nimport CompanyListItem from './CompanyListItem';\nimport Filter from './Filter';\nimport actions from '../actions';\nimport Notifier from '../util/Notifier';\n\nconst mapStateToProps = state => ({\n  companies: state.companies,\n  filters: state.filters\n});\n\nconst mapDispatchToProps = dispatch => ({\n  toggleFilter: location => dispatch(actions.toggleFilter(location))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(function CompanyList(props) {\n  const companies = props.companies,\n        filters = props.filters,\n        toggleFilter = props.toggleFilter;\n\n  const _useState = useState({\n    filters: []\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        state = _useState2[0],\n        setState = _useState2[1];\n\n  const locations = [...new Set(companies.map(company => company.location))]; // Returns companies that should be visible according to active filter\n\n  const getFilteredCompanies = () => {\n    let filteredCompanies;\n\n    if (state.filters.length) {\n      filteredCompanies = companies.filter(company => filters.includes(company.location));\n    } else {\n      filteredCompanies = companies;\n    }\n\n    return filteredCompanies;\n  }; // Filter click handler\n\n\n  const onFilterClick = event => {\n    event.preventDefault();\n    toggleFilter(event.target.innerText);\n  }; // Company item click handler\n\n\n  const onItemClick = company => {\n    Notifier.notify(\"\".concat(company.name, \" is located in \").concat(company.location));\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, locations.map(location => React.createElement(Filter, {\n    key: location,\n    location: location,\n    onClick: onFilterClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  })), React.createElement(\"ul\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, getFilteredCompanies().map(company => React.createElement(CompanyListItem, Object.assign({\n    key: company.id,\n    onClick: onItemClick.bind(null, company)\n  }, company, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  })))));\n});","map":{"version":3,"sources":["/home/dnordstrom/Code/javascript-interview-exercises/src/components/CompanyList.js"],"names":["React","useState","connect","CompanyListItem","Filter","actions","Notifier","mapStateToProps","state","companies","filters","mapDispatchToProps","dispatch","toggleFilter","location","CompanyList","props","setState","locations","Set","map","company","getFilteredCompanies","filteredCompanies","length","filter","includes","onFilterClick","event","preventDefault","target","innerText","onItemClick","notify","name","id","bind"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,OAAP,MAAoB,YAApB;AACA,OAAOC,QAAP,MAAqB,kBAArB;;AAEA,MAAMC,eAAe,GAAGC,KAAK,KAAK;AAChCC,EAAAA,SAAS,EAAED,KAAK,CAACC,SADe;AAEhCC,EAAAA,OAAO,EAAEF,KAAK,CAACE;AAFiB,CAAL,CAA7B;;AAKA,MAAMC,kBAAkB,GAAGC,QAAQ,KAAK;AACtCC,EAAAA,YAAY,EAAEC,QAAQ,IAAIF,QAAQ,CAACP,OAAO,CAACQ,YAAR,CAAqBC,QAArB,CAAD;AADI,CAAL,CAAnC;;AAIA,eAAeZ,OAAO,CACpBK,eADoB,EAEpBI,kBAFoB,CAAP,CAGb,SAASI,WAAT,CAAqBC,KAArB,EAA4B;AAAA,QACpBP,SADoB,GACiBO,KADjB,CACpBP,SADoB;AAAA,QACTC,OADS,GACiBM,KADjB,CACTN,OADS;AAAA,QACAG,YADA,GACiBG,KADjB,CACAH,YADA;;AAAA,oBAEFZ,QAAQ,CAAC;AAAES,IAAAA,OAAO,EAAE;AAAX,GAAD,CAFN;AAAA;AAAA,QAErBF,KAFqB;AAAA,QAEdS,QAFc;;AAG5B,QAAMC,SAAS,GAAG,CAAC,GAAG,IAAIC,GAAJ,CAAQV,SAAS,CAACW,GAAV,CAAcC,OAAO,IAAIA,OAAO,CAACP,QAAjC,CAAR,CAAJ,CAAlB,CAH4B,CAK5B;;AACA,QAAMQ,oBAAoB,GAAG,MAAM;AACjC,QAAIC,iBAAJ;;AAEA,QAAIf,KAAK,CAACE,OAAN,CAAcc,MAAlB,EAA0B;AACxBD,MAAAA,iBAAiB,GAAGd,SAAS,CAACgB,MAAV,CAClBJ,OAAO,IAAIX,OAAO,CAACgB,QAAR,CAAiBL,OAAO,CAACP,QAAzB,CADO,CAApB;AAGD,KAJD,MAIO;AACLS,MAAAA,iBAAiB,GAAGd,SAApB;AACD;;AAED,WAAOc,iBAAP;AACD,GAZD,CAN4B,CAoB5B;;;AACA,QAAMI,aAAa,GAAIC,KAAD,IAAW;AAC/BA,IAAAA,KAAK,CAACC,cAAN;AAEAhB,IAAAA,YAAY,CAACe,KAAK,CAACE,MAAN,CAAaC,SAAd,CAAZ;AACD,GAJD,CArB4B,CA2B5B;;;AACA,QAAMC,WAAW,GAAIX,OAAD,IAAa;AAC/Bf,IAAAA,QAAQ,CAAC2B,MAAT,WAAmBZ,OAAO,CAACa,IAA3B,4BAAiDb,OAAO,CAACP,QAAzD;AACD,GAFD;;AAIA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGI,SAAS,CAACE,GAAV,CAAcN,QAAQ,IACrB,oBAAC,MAAD;AACE,IAAA,GAAG,EAAEA,QADP;AAEE,IAAA,QAAQ,EAAEA,QAFZ;AAGE,IAAA,OAAO,EAAEa,aAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,CADH,EASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGL,oBAAoB,GAAGF,GAAvB,CAA2BC,OAAO,IACjC,oBAAC,eAAD;AACE,IAAA,GAAG,EAAEA,OAAO,CAACc,EADf;AAEE,IAAA,OAAO,EAAEH,WAAW,CAACI,IAAZ,CAAiB,IAAjB,EAAuBf,OAAvB;AAFX,KAGMA,OAHN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADD,CADH,CATF,CADF;AAqBD,CAxDc,CAAf","sourcesContent":["import React, { useState } from 'react';\nimport { connect } from \"react-redux\";\nimport CompanyListItem from './CompanyListItem';\nimport Filter from './Filter';\nimport actions from '../actions';\nimport Notifier from '../util/Notifier';\n\nconst mapStateToProps = state => ({\n  companies: state.companies,\n  filters: state.filters\n});\n\nconst mapDispatchToProps = dispatch => ({\n  toggleFilter: location => dispatch(actions.toggleFilter(location))\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(function CompanyList(props) {\n  const { companies, filters, toggleFilter } = props;\n  const [state, setState] = useState({ filters: [] });\n  const locations = [...new Set(companies.map(company => company.location))];\n  \n  // Returns companies that should be visible according to active filter\n  const getFilteredCompanies = () => {\n    let filteredCompanies;\n\n    if (state.filters.length) {\n      filteredCompanies = companies.filter(\n        company => filters.includes(company.location)\n      )\n    } else {\n      filteredCompanies = companies;\n    }\n\n    return filteredCompanies;\n  }\n\n  // Filter click handler\n  const onFilterClick = (event) => {\n    event.preventDefault();\n\n    toggleFilter(event.target.innerText);\n  }\n\n  // Company item click handler\n  const onItemClick = (company) => {\n    Notifier.notify(`${company.name} is located in ${company.location}`);\n  };\n\n  return (\n    <div>\n      {locations.map(location => (\n        <Filter\n          key={location}\n          location={location}\n          onClick={onFilterClick}>\n        </Filter>\n      ))}\n\n      <ul>\n        {getFilteredCompanies().map(company => (\n          <CompanyListItem\n            key={company.id}\n            onClick={onItemClick.bind(null, company)}\n            {...company}>\n          </CompanyListItem>\n        ))}\n      </ul>\n    </div>\n  )\n});"]},"metadata":{},"sourceType":"module"}