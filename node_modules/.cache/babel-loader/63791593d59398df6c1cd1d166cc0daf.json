{"ast":null,"code":"import _slicedToArray from \"/home/dnordstrom/Code/javascript-interview-exercises/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/dnordstrom/Code/javascript-interview-exercises/src/components/CompanyList.js\";\nimport React, { useState } from 'react';\nimport { connect } from \"react-redux\";\nimport CompanyListItem from './CompanyListItem';\nimport Filter from './Filter';\nimport actions from '../actions';\nimport Notifier from '../util/Notifier';\n\nfunction CompanyList(props) {\n  const companies = props.companies,\n        filters = props.filters,\n        toggleFilter = props.toggleFilter;\n\n  const _useState = useState({\n    filters: []\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        state = _useState2[0],\n        setState = _useState2[1];\n\n  const locations = [...new Set(companies.map(company => company.location))]; // Returns companies that should be visible according to active filter\n\n  const getFilteredCompanies = () => {\n    let filteredCompanies;\n\n    if (state.filters.length) {\n      filteredCompanies = companies.filter(company => filters.includes(company.location));\n    } else {\n      filteredCompanies = companies;\n    }\n\n    return filteredCompanies;\n  }; // Filter click handler\n\n\n  const onFilterClick = event => {\n    event.preventDefault();\n    toggleFilter(event.target.innerText);\n  }; // Company item click handler\n\n\n  const onItemClick = company => {\n    Notifier.notify(\"\".concat(company.name, \" is located in \").concat(company.location));\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, locations.map(location => React.createElement(Filter, {\n    key: location,\n    location: location,\n    onClick: onFilterClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  })), React.createElement(\"ul\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, getFilteredCompanies().map(company => React.createElement(CompanyListItem, Object.assign({\n    key: company.id,\n    onClick: onItemClick.bind(null, company)\n  }, company, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  })))));\n}\n\n;\n\nconst mapStateToProps = state => ({\n  companies: state.companies,\n  filters: state.filters\n});\n\nconst mapDispatchToProps = dispatch => ({\n  toggleFilter: location => dispatch(actions.toggleFilter(location))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CompanyList);","map":{"version":3,"sources":["/home/dnordstrom/Code/javascript-interview-exercises/src/components/CompanyList.js"],"names":["React","useState","connect","CompanyListItem","Filter","actions","Notifier","CompanyList","props","companies","filters","toggleFilter","state","setState","locations","Set","map","company","location","getFilteredCompanies","filteredCompanies","length","filter","includes","onFilterClick","event","preventDefault","target","innerText","onItemClick","notify","name","id","bind","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,OAAP,MAAoB,YAApB;AACA,OAAOC,QAAP,MAAqB,kBAArB;;AAEA,SAASC,WAAT,CAAqBC,KAArB,EAA4B;AAAA,QAClBC,SADkB,GACmBD,KADnB,CAClBC,SADkB;AAAA,QACPC,OADO,GACmBF,KADnB,CACPE,OADO;AAAA,QACEC,YADF,GACmBH,KADnB,CACEG,YADF;;AAAA,oBAEAV,QAAQ,CAAC;AAAES,IAAAA,OAAO,EAAE;AAAX,GAAD,CAFR;AAAA;AAAA,QAEnBE,KAFmB;AAAA,QAEZC,QAFY;;AAG1B,QAAMC,SAAS,GAAG,CAAC,GAAG,IAAIC,GAAJ,CAAQN,SAAS,CAACO,GAAV,CAAcC,OAAO,IAAIA,OAAO,CAACC,QAAjC,CAAR,CAAJ,CAAlB,CAH0B,CAK1B;;AACA,QAAMC,oBAAoB,GAAG,MAAM;AACjC,QAAIC,iBAAJ;;AAEA,QAAIR,KAAK,CAACF,OAAN,CAAcW,MAAlB,EAA0B;AACxBD,MAAAA,iBAAiB,GAAGX,SAAS,CAACa,MAAV,CAClBL,OAAO,IAAIP,OAAO,CAACa,QAAR,CAAiBN,OAAO,CAACC,QAAzB,CADO,CAApB;AAGD,KAJD,MAIO;AACLE,MAAAA,iBAAiB,GAAGX,SAApB;AACD;;AAED,WAAOW,iBAAP;AACD,GAZD,CAN0B,CAoB1B;;;AACA,QAAMI,aAAa,GAAIC,KAAD,IAAW;AAC/BA,IAAAA,KAAK,CAACC,cAAN;AAEAf,IAAAA,YAAY,CAACc,KAAK,CAACE,MAAN,CAAaC,SAAd,CAAZ;AACD,GAJD,CArB0B,CA2B1B;;;AACA,QAAMC,WAAW,GAAIZ,OAAD,IAAa;AAC/BX,IAAAA,QAAQ,CAACwB,MAAT,WAAmBb,OAAO,CAACc,IAA3B,4BAAiDd,OAAO,CAACC,QAAzD;AACD,GAFD;;AAIA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGJ,SAAS,CAACE,GAAV,CAAcE,QAAQ,IACrB,oBAAC,MAAD;AACE,IAAA,GAAG,EAAEA,QADP;AAEE,IAAA,QAAQ,EAAEA,QAFZ;AAGE,IAAA,OAAO,EAAEM,aAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,CADH,EASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGL,oBAAoB,GAAGH,GAAvB,CAA2BC,OAAO,IACjC,oBAAC,eAAD;AACE,IAAA,GAAG,EAAEA,OAAO,CAACe,EADf;AAEE,IAAA,OAAO,EAAEH,WAAW,CAACI,IAAZ,CAAiB,IAAjB,EAAuBhB,OAAvB;AAFX,KAGMA,OAHN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADD,CADH,CATF,CADF;AAqBD;;AAAA;;AAED,MAAMiB,eAAe,GAAGtB,KAAK,KAAK;AAChCH,EAAAA,SAAS,EAAEG,KAAK,CAACH,SADe;AAEhCC,EAAAA,OAAO,EAAEE,KAAK,CAACF;AAFiB,CAAL,CAA7B;;AAKA,MAAMyB,kBAAkB,GAAGC,QAAQ,KAAK;AACtCzB,EAAAA,YAAY,EAAEO,QAAQ,IAAIkB,QAAQ,CAAC/B,OAAO,CAACM,YAAR,CAAqBO,QAArB,CAAD;AADI,CAAL,CAAnC;;AAIA,eAAehB,OAAO,CACpBgC,eADoB,EAEpBC,kBAFoB,CAAP,CAGb5B,WAHa,CAAf","sourcesContent":["import React, { useState } from 'react';\nimport { connect } from \"react-redux\";\nimport CompanyListItem from './CompanyListItem';\nimport Filter from './Filter';\nimport actions from '../actions';\nimport Notifier from '../util/Notifier';\n\nfunction CompanyList(props) {\n  const { companies, filters, toggleFilter } = props;\n  const [state, setState] = useState({ filters: [] });\n  const locations = [...new Set(companies.map(company => company.location))];\n  \n  // Returns companies that should be visible according to active filter\n  const getFilteredCompanies = () => {\n    let filteredCompanies;\n\n    if (state.filters.length) {\n      filteredCompanies = companies.filter(\n        company => filters.includes(company.location)\n      )\n    } else {\n      filteredCompanies = companies;\n    }\n\n    return filteredCompanies;\n  }\n\n  // Filter click handler\n  const onFilterClick = (event) => {\n    event.preventDefault();\n\n    toggleFilter(event.target.innerText);\n  }\n\n  // Company item click handler\n  const onItemClick = (company) => {\n    Notifier.notify(`${company.name} is located in ${company.location}`);\n  };\n\n  return (\n    <div>\n      {locations.map(location => (\n        <Filter\n          key={location}\n          location={location}\n          onClick={onFilterClick}>\n        </Filter>\n      ))}\n\n      <ul>\n        {getFilteredCompanies().map(company => (\n          <CompanyListItem\n            key={company.id}\n            onClick={onItemClick.bind(null, company)}\n            {...company}>\n          </CompanyListItem>\n        ))}\n      </ul>\n    </div>\n  )\n};\n\nconst mapStateToProps = state => ({\n  companies: state.companies,\n  filters: state.filters\n});\n\nconst mapDispatchToProps = dispatch => ({\n  toggleFilter: location => dispatch(actions.toggleFilter(location))\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(CompanyList);"]},"metadata":{},"sourceType":"module"}